<link rel="stylesheet" type="text/css" href="css/sag/instantsearch.min.css">
<script src="js/sag/instantsearch.js"></script>

<link rel="stylesheet" type="text/css" href="css/sag/instantsearch-theme-algolia.min.css">

<link rel="stylesheet" type="text/css" href="css/sag/instantsearch.min.css">

<script>
// const instantsearch = require('js/sag/instantsearch.js');
const search = instantsearch({
  "index_name": "example",
  "start_urls": ["https://www.example.com/doc/"],
  "sitemap_urls": ["https://www.example.com/sitemap.xml"],
  "stop_urls": [],
  "selectors": {
    "lvl0": {
      "selector": ".DocSearch-lvl0",
      "global": true,
      "default_value": "Documentation"
    },
    "lvl1": {
      "selector": ".DocSearch-lvl1",
      "global": true,
      "default_value": "Chapter"
    },
    "lvl2": ".DocSearch-content .DocSearch-lvl2",
    "lvl3": ".DocSearch-content .DocSearch-lvl3",
    "lvl4": ".DocSearch-content .DocSearch-lvl4",
    "lvl5": ".DocSearch-content .DocSearch-lvl5",
    "lvl6": ".DocSearch-content .DocSearch-lvl6",
    "text": ".DocSearch-content p, .DocSearch-content li"
  },
  "custom_settings": {
    "attributesForFaceting": ["language", "version"]
  },
  "nb_hits": "OUTPUT OF THE CRAWL"
});
// import instantsearch from "js/sag/instantsearch.js";  
  
// const searches = instantsearch({
//   appId: '45FAXPQVEG',
//   apiKey: '7d0c43617ef2a76ef50343c43900245b',
//   indexName: 'test_index',
//   routing: true
// });

// initialize SearchBox
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '#search-box',
    placeholder: 'Search for products'
  })
);

// initialize RefinementList
search.addWidget(
  instantsearch.widgets.refinementList({
    container: '#refinement-list',
    attributeName: 'categories'
  })
);

// initialize currentRefinedValues
search.addWidget(
  instantsearch.widgets.currentRefinedValues({
    container: '#current-refined-values',
    // This widget can also contain a clear all link to remove all filters,
    // we disable it in this example since we use `clearAll` widget on its own.
    clearAll: false
  })
);

// initialize clearAll
search.addWidget(
  instantsearch.widgets.clearAll({
    container: '#clear-all',
    templates: {
      link: 'Reset everything'
    },
    autoHideContainer: false
  })
);

// initialize pagination
search.addWidget(
  instantsearch.widgets.pagination({
    container: '#pagination',
    maxPages: 20,
    // default is to scroll to 'body', here we disable this behavior
    scrollTo: false
  })
);
  
// initialize hits widget
search.addWidget(
  instantsearch.widgets.hits({
    container: '#hits',
    templates: {
      empty: 'No results',
      item: '<em>Hit {{objectID}}</em>: {{{_highlightResult.name.value}}}'
    }
  })
);

search.start();

</script>

<div id="search-box">
  <!-- SearchBox widget will appear here -->
</div>

<div id="refinement-list">
  <!-- RefinementList widget will appear here -->
</div>

<div id="current-refined-values">
  <!-- CurrentRefinedValues widget will appear here -->
</div>

<div id="clear-all">
  <!-- ClearAll widget will appear here -->
</div>

<div id="pagination">
  <!-- Pagination widget will appear here -->
</div>

<div id="hits">
  <!-- Hits widget will appear here -->
</div>


